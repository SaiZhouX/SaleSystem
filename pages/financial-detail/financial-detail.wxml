<!--pages/financial-detail/financial-detail.wxml-->
<view class="container">
  <!-- å¤´éƒ¨æ±‡æ€»ä¿¡æ¯ -->
  <view class="summary-header">
    <view class="summary-card">
      <view class="summary-title">{{title}}</view>
      <view class="summary-amount {{type === 'income' ? 'income-color' : 'expense-color'}}">
        Â¥{{totalAmount}}
      </view>
      <view class="summary-count">
        å…± {{detailList.length}} ç¬”è®°å½•
      </view>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-bar">
    <button class="refresh-btn" bindtap="onRefresh">åˆ·æ–°æ•°æ®</button>
  </view>

  <!-- è¯¦æƒ…åˆ—è¡¨ -->
  <view class="detail-list" wx:if="{{!isEmpty}}">
    <view class="list-header">
      <text class="header-title">è¯¦ç»†è®°å½•</text>
    </view>
    
    <scroll-view scroll-y class="list-scroll">
      <view wx:for="{{detailList}}" wx:key="id" class="detail-item" bindtap="onItemTap" data-item="{{item}}">
        <view class="item-left">
          <view class="item-title">{{item.item}}</view>
          <view class="item-description">{{item.description}}</view>
          <view class="item-date">{{item.date}}</view>
        </view>
        <view class="item-right">
          <view class="item-amount {{type === 'income' ? 'income-color' : 'expense-color'}}">
            {{type === 'income' ? '+' : '-'}}Â¥{{item.amount}}
          </view>
          <view class="item-arrow">></view>
        </view>
      </view>
    </scroll-view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-state" wx:if="{{isEmpty}}">
    <view class="empty-icon">ğŸ“Š</view>
    <view class="empty-title">æš‚æ— {{type === 'income' ? 'æ”¶å…¥' : 'æ”¯å‡º'}}è®°å½•</view>
    <view class="empty-description">
      {{type === 'income' ? 'è¿˜æ²¡æœ‰é”€å”®è®°å½•' : 'è¿˜æ²¡æœ‰æ”¯å‡ºè®°å½•'}}
    </view>
  </view>
</view>