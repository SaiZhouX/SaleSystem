<!--pages/add-fish/add-fish.wxml-->
<view class="container">
  <view class="header">
    <button class="batch-add-btn" bindtap="navigateToBatchAddFish" style="width: 160rpx !important; box-sizing: border-box !important; padding: 0 !important;">批量添加</button>
  </view>
  <form bindsubmit="formSubmit">
    <view class="form-item">
      <text class="item-label">进货日期</text>
      <picker mode="date" value="{{purchaseDate}}" bindchange="bindDateChange">
        <view class="picker">{{purchaseDate}}</view>
      </picker>
    </view>
    <view class="form-item">
      <text class="item-label">单价</text>
      <input class="price-input" name="purchasePrice" type="digit" placeholder="请输入单价" />
    </view>
    <view class="form-item">
      <text class="item-label">照片</text>
      <view class="upload-container">
        <image src="{{photoPath || '/images/placeholder.svg'}}" class="preview-image" />
        <button bindtap="takePhoto" class="upload-btn">拍照上传</button>
      </view>
    </view>
    <view class="form-item">
      <text class="item-label">条形码</text>
      <view class="barcode-container">
        <view id="barcode"></view>
        <text class="barcode-text">{{barcode}}</text>
      </view>
    </view>
    <button form-type="submit" class="submit-btn" style="width: 320rpx !important; box-sizing: border-box !important; padding: 0 !important;">确认添加</button>
  </form>
</view>